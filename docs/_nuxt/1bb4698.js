(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[7],{463:function(t,e,n){"use strict";n.r(e);n(4),n(9),n(10),n(27),n(16),n(20),n(37),n(32),n(29);var o=n(2),r=(n(5),n(174),n(45),n(7),n(62),n(44),{name:"Recognition",props:{image:{required:!0},correlationId:{required:!0},uploaded:{required:!0,default:"done"},recognized:{required:!0},found:{required:!0},notified:{required:!0}},data:function(){return{}},computed:{uploadedClass:function(){return"start"===this.uploaded?"info":"done"===this.uploaded?"success":"fail"===this.uploaded?"error":""},recognizedClass:function(){return"start"===this.recognized?"info":"done"===this.recognized?"success":"fail"===this.recognized?"error":""},foundClass:function(){return"start"===this.found?"info":"done"===this.found?"success":"fail"===this.found?"error":""},notifiedClass:function(){return"start"===this.notified?"info":"done"===this.notified?"success":"fail"===this.notified?"error":""}}}),c=n(74),l=n(99),f=n.n(l),d=n(372),v=n(370),h=n(399),m=n(468),_=n(147),y=n(127),C=n(459),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-img",{attrs:{src:t.image}}),t._v(" "),n("v-card-actions",[n("v-chip-group",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-chip",t._g({class:t.uploadedClass},o),[n("v-icon",[t._v("cloud_upload")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s(t.$t("recognize.status.uploaded")))])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-chip",t._g({class:t.recognizedClass},o),[n("v-icon",[t._v("image_search")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s(t.$t("recognize.status.recognized")))])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-chip",t._g({class:t.foundClass},o),[n("v-icon",[t._v("search")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s(t.$t("recognize.status.found")))])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-chip",t._g({class:t.notifiedClass},o),[n("v-icon",[t._v("speaker_notes")])],1)]}}])},[t._v(" "),n("span",[t._v(t._s(t.$t("recognize.status.notified")))])])],1)],1)],1)}),[],!1,null,"11845ff0",null),O=component.exports;f()(component,{VCard:d.a,VCardActions:v.a,VChip:h.a,VChipGroup:m.a,VIcon:_.a,VImg:y.a,VTooltip:C.a});var V=n(51);function k(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,r=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw r}}}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function z(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?z(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):z(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var D={components:{Recognition:O},data:function(){return{search:{fail:!0,completed:!0},deleteAllDialog:!1}},computed:w(w({},Object(V.d)({recognitions:function(t){return t.recognition.recognitions}})),{},{filteredRecognitions:function(){var t=this;return this.recognitions.filter((function(e){return!(!t.search.fail&&t.hasFail(e.status.map((function(s){return s.code}))))&&!(!t.search.completed&&t.isCompleted(e))}))},reversedFilteredRecognitions:function(){return this.filteredRecognitions.reverse()},changedFilter:function(){return!this.search.fail||!this.search.completed}}),methods:w(w({},Object(V.b)({removeRecognition:"recognition/removeAndSaveRecognition"})),{},{uploaded:function(t){return"done"},recognized:function(t){return this.getStatus(t,"image-recognizer")},found:function(t){return this.getStatus(t,"text-mapper")},notified:function(t){return this.getStatus(t,"notifier")},hasFail:function(t){return t.filter((function(t){return 500===t||404===t})).length>=1},hasDone:function(t){return t.filter((function(t){return 200===t})).length>=1},isCompleted:function(t){var e,n={},o=k(t.status);try{for(o.s();!(e=o.n()).done;){var r=e.value;n[r.source]||(n[r.source]=[]),n[r.source].push(r.code)}}catch(t){o.e(t)}finally{o.f()}for(var c=0,l=Object.keys(n);c<l.length;c++){var source=l[c];if(!this.hasDone(n[source]))return!1}return!0},getStatus:function(t,source){var e=t.status.filter((function(s){return s.source.includes(source)})).map((function(s){return s.code}));return this.hasFail(e)?"fail":this.hasDone(e)?"done":e.filter((function(t){return 202===t})).length>=1?"start":null},onDeleteCompleted:function(){var t=this;this.recognitions.filter((function(e){return t.isCompleted(e)})).map((function(t){return t.correlationId})).forEach((function(e){return t.removeRecognition(e)}))},onDeleteAll:function(){var t=this;this.deleteAllDialog=!1,this.recognitions.map((function(t){return t.correlationId})).forEach((function(e){return t.removeRecognition(e)}))}})},S=n(223),A=n(460),$=n(421),x=n(461),I=n(422),R=n(148),F=n(95),P=n(404),E=n(467),T=n(39),L=n(163),J=Object(c.a)(D,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{column:"","justify-center":""}},[n("v-flex",{attrs:{xs12:""}},t._l(t.reversedFilteredRecognitions,(function(e){return n("Recognition",{key:e.correlationId,attrs:{image:e.image,correlationId:e.correlationId,uploaded:t.uploaded(e),recognized:t.recognized(e),found:t.found(e),notified:t.notified(e)}})})),1),t._v(" "),n("v-dialog",{attrs:{"max-width":"290"},model:{value:t.deleteAllDialog,callback:function(e){t.deleteAllDialog=e},expression:"deleteAllDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v(t._s(t.$t("common.confirmation.title")))]),t._v(" "),n("v-card-text",[t._v(t._s(t.$t("recognize.delete.all.confirmation")))]),t._v(" "),n("v-card-actions",[n("div",{staticClass:"flex-grow-1"}),t._v(" "),n("v-btn",{attrs:{color:"error"},on:{click:function(e){return t.onDeleteAll()}}},[t._v("\n          "+t._s(t.$t("common.confirmation.agree"))+"\n        ")]),t._v(" "),n("v-btn",{on:{click:function(e){t.deleteAllDialog=!1}}},[t._v("\n          "+t._s(t.$t("common.confirmation.disagree"))+"\n        ")])],1)],1)],1),t._v(" "),n("v-footer",{staticClass:"pa-0",attrs:{app:""}},[n("v-toolbar",{attrs:{dense:""}},[n("div",{staticClass:"flex-grow-1"}),t._v(" "),n("v-toolbar-items",[n("v-menu",{attrs:{"offset-y":"",top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({},o),[n("v-icon",[t._v("delete")])],1)]}}])},[t._v(" "),n("v-list",[n("v-list-item",[n("v-btn",{attrs:{block:""},on:{click:function(e){return t.onDeleteCompleted()}}},[n("v-icon",{attrs:{color:"success"}},[t._v("done")]),t._v("\n                "+t._s(t.$t("recognize.delete.completed"))+"\n              ")],1)],1),t._v(" "),n("v-list-item",[n("v-btn",{attrs:{block:""},on:{click:function(e){e.stopPropagation(),t.deleteAllDialog=!0}}},[n("v-icon",{attrs:{color:"error"}},[t._v("done_all")]),t._v("\n                "+t._s(t.$t("recognize.delete.all.text"))+"\n              ")],1)],1)],1)],1),t._v(" "),n("v-menu",{attrs:{"offset-y":"",top:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-btn",t._g({attrs:{color:t.changedFilter?"info":""}},o),[n("v-icon",[t._v("search")])],1)]}}])},[t._v(" "),n("v-list",[n("v-list-item",[n("v-switch",{attrs:{label:t.$t("recognize.filter.fail"),color:"success"},model:{value:t.search.fail,callback:function(e){t.$set(t.search,"fail",e)},expression:"search.fail"}})],1),t._v(" "),n("v-list-item",[n("v-switch",{attrs:{label:t.$t("recognize.filter.completed"),color:"success"},model:{value:t.search.completed,callback:function(e){t.$set(t.search,"completed",e)},expression:"search.completed"}})],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=J.exports;f()(J,{VBtn:S.a,VCard:d.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VDialog:A.a,VFlex:$.a,VFooter:x.a,VIcon:_.a,VLayout:I.a,VList:R.a,VListItem:F.a,VMenu:P.a,VSwitch:E.a,VToolbar:T.a,VToolbarItems:L.a})}}]);